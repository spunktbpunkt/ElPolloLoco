<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: throwable-object.class.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: throwable-object.class.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>class ThrowableObject extends MovableObject {
    speedY = 30;
    speedX = 20;
    // otherDirection = false;
    moveInterval;
    animationInterval;
    offset = {
        left: 5,
        right: 10,
        top: 5,
        bottom: 5
    }
    bottle_rotation = [
        'img/6_salsa_bottle/bottle_rotation/1_bottle_rotation.png',
        'img/6_salsa_bottle/bottle_rotation/2_bottle_rotation.png',
        'img/6_salsa_bottle/bottle_rotation/3_bottle_rotation.png',
        'img/6_salsa_bottle/bottle_rotation/4_bottle_rotation.png',
    ]

    bottle_splash = [
        'img/6_salsa_bottle/bottle_rotation/bottle_splash/1_bottle_splash.png',
        'img/6_salsa_bottle/bottle_rotation/bottle_splash/2_bottle_splash.png',
        'img/6_salsa_bottle/bottle_rotation/bottle_splash/3_bottle_splash.png',
        'img/6_salsa_bottle/bottle_rotation/bottle_splash/4_bottle_splash.png',
        'img/6_salsa_bottle/bottle_rotation/bottle_splash/5_bottle_splash.png',
        'img/6_salsa_bottle/bottle_rotation/bottle_splash/6_bottle_splash.png',
    ]

    constructor(x, y) {
        super();
        this.x = x
        this.y = y
        this.height = 80
        this.width = 80
        this.loadImage('img/6_salsa_bottle/bottle_rotation/1_bottle_rotation.png')
        this.loadImages(this.bottle_rotation)
        this.loadImages(this.bottle_splash)
        this.throw_sound = new Audio('audio/throw.mp3');
        this.breaking_sound = new Audio('audio/breaking-glass.mp3');
    }

    /**
    * Initiates the throwing sequence with gravity, sound and movement.
    * 
    * @returns {void}
    */
    throw() {
        if (isPaused) { return }
        this.applyGravity();
        this.playSound(this.throw_sound, 1)
        let direction = this.world.character.otherDirection ? (this.x -= 100, -1) : 1;

        this.throwMove(direction)

        this.throwAnimation()
    }

    /**
     * Handles horizontal movement and collision detection during throw.
     * 
     * @param {number} direction - Movement direction (-1 for left, 1 for right)
     * @returns {void}
     */
    throwMove(direction) {
        this.moveInterval = setInterval(() => {
            if (isPaused) return
            this.x += 4 * direction;
            this.world.checkBottleCollisions();
        }, 10);
    }

    /**
     * Manages rotation animation and ground collision detection.
     * 
     * @returns {void}
     */
    throwAnimation() {
        this.animationInterval = setInterval(() => {
            if (isPaused) return
            this.playAnimation(this.bottle_rotation);
            if (this.y > 335) {
                this.bottleSplash(); // üîÑ Ruft jetzt alles auf
            }
        }, 75);
    }

    /**
     * Triggers bottle break sequence when hitting ground or enemy.
     * 
     * @returns {void}
     */
    bottleSplash() {
        if (isPaused) { return }
        let i = 0;

        this.removeGravity();
        this.playSound(this.breaking_sound, 1)
        clearInterval(this.moveInterval);
        clearInterval(this.animationInterval);
        this.bottleSplashInterval(i)
    }

    /**
     * Plays splash animation and removes bottle from world after completion.
     * 
     * @param {number} i - Animation frame counter
     * @returns {void}
     */
    bottleSplashInterval(i) {
        this.intervalId = setInterval(() => {
            if (isPaused) return
            if (i &lt; 6) {
                this.playAnimation(this.bottle_splash);
            } else {
                clearInterval(this.intervalId);
                // Entferne Flasche aus der Welt
                this.world.throwableObjects = this.world.throwableObjects.filter(obj => obj !== this);
            }
            i++;
        }, 50);
    }

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Jul 20 2025 21:27:30 GMT+0200 (Mitteleurop√§ische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
